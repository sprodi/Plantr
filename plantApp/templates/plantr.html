<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">

   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

   <title>Plantr | Dashboard</title>
   {% load static %}
   <script src="//cdn.rawgit.com/namuol/cheet.js/master/cheet.min.js" type="text/javascript"></script>
   <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
   <script src="https://kit.fontawesome.com/6912b0bfd0.js" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>
   <link rel="stylesheet" href="{% static 'plantApp/static/css/plantr.css' %}">
</head>
<body>
   <!-- NAVBAR -->
   <div id='container'>
      <nav class="navbar navbar-light">
         <div class="container-fluid">
            <a class="navbar-brand" href="/plantr">
               <img src="../static/plantr-light.svg" alt="" width="155" height="55">
            </a>
            <div class="easter"></div>
            <form class="d-flex">
               <div id="emitter">
                  <span class="navbar-text">
                     Welcome {{ user.alias }}! &nbsp;&nbsp; 
                     <a href="users/{{user.id}}">Account</a>
                  </span>
               </div>
               <a href="/logout" class="btn btn-danger" role="button">
                  Sign Out
                </a>
             </form>
         </div>
       </nav>

      <!-- BODY -->
      <div class="container-lg main">
         <div class="container-sm text-center";">
            <h1 class="welcome">Welcome {{request.session.alias}}!</h1>
            <h1 class="welcome66"></h1>
            <a href='/plantr/add' class="btn btn-warning">Add a Plant!</a>
         </div>
         <div class="container-sm">
            <div class="container-sm">
               <div class="row row-cols-4 justify-content-center">
                  {% for plant in plants %}
                  <div class="col-4 text-center">
                     {% if plant.plantImg %}
                     <a href="/plantr/{{ plant.id }}"><img src="{{ plant.plantImg.url }} " class="rounded mx-auto d-block" alt="..."></a>
                        {% else %}
                        <a href="/plantr/{{ plant.id }}"><img src="../static/default_plant.jpg" class="rounded mx-auto d-block" alt="..."></a>
                     {% endif %}
                     <div class='info'>
                        <a href="/plantr/{{ plant.id }}">{{ plant.plantName }}</a>
                        <p>Care: {{ plant.level }}</p>
                        <p>Environment: {{ plant.env }}</p>
                        <p class='sb'>Submitted by: <a href="/plantr/users/{{ plant.poster.id }}">{{ plant.poster.alias }}</a></p>
                     </div>
                  </div>
                  {% endfor %}
               </div>
            </div>
         </div>
      </div>
   </div>


   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
   <script src="../static/js/konami.js"></script>
   <script src="../static/js/welcome.js"></script>

   <script type=text/javascript>
      cheet.fail(function() {
        return $('.easter').empty();
      });
      cheet.next(function(str, key) {
        if (key === 'up' || key === 'down' || key === 'left' || key === 'right') {
          return $('.easter').append('<i class="fa fa-arrow-circle-' + key + '">');
        } else {
          return $('.easter').append(key);
        }
      });
      cheet('up up down down left right left right b a', function() {
        imgidx = (imgidx + 1) % imgs.length;
        return setImg(imgidx);
      });
      cheet('o r d e r 6 6', function() {
        imgidx = (imgidx + 1) % imgs.length;
        return setImg(imgidx);
      });
      cheet('p a r t y t i m e', function() {
        imgidx = (imgidx + 1) % imgs.length;
        return setImg(imgidx);
      });
   </script>
</body>
</html>